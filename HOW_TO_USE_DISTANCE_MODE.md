# üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Distance-Based —Ä–µ–∂–∏–º

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:8000
```

### 2. –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚Üí  IN (Approaching)    ‚Üê  OUT (Away)      ‚îÇ ‚Üê –õ–µ–≥–µ–Ω–¥–∞
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                            ‚îÇ
‚îÇ    [VIDEO FEED]                            ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ    üü¢ –ó–µ–ª–µ–Ω–∞—è —Ä–∞–º–∫–∞ = –¢–æ–ª—å–∫–æ —á—Ç–æ –∑–∞—à–µ–ª     ‚îÇ
‚îÇ    üî¥ –ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ = –¢–æ–ª—å–∫–æ —á—Ç–æ –≤—ã—à–µ–ª     ‚îÇ
‚îÇ    üîµ –ì–æ–ª—É–±–∞—è —Ä–∞–º–∫–∞ = –ü—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è ‚Üí       ‚îÇ
‚îÇ    üü° –ñ–µ–ª—Ç–∞—è —Ä–∞–º–∫–∞ = –£–¥–∞–ª—è–µ—Ç—Å—è ‚Üê          ‚îÇ
‚îÇ    üü† –û—Ä–∞–Ω–∂–µ–≤–∞—è = –ù–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è            ‚îÇ
‚îÇ                                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  IN: 5     OUT: 3                          ‚îÇ
‚îÇ  Active: 2                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –¢–µ—Å—Ç IN (–í—Ö–æ–¥):

1. **–û—Ç–æ–π–¥–∏—Ç–µ** –Ω–∞ 2-3 –º–µ—Ç—Ä–∞ –æ—Ç –∫–∞–º–µ—Ä—ã
2. **–ú–µ–¥–ª–µ–Ω–Ω–æ –∏–¥–∏—Ç–µ** –∫ –∫–∞–º–µ—Ä–µ
3. –ù–∞–±–ª—é–¥–∞–π—Ç–µ:
   - –í–∞—à box **—Ä–∞—Å—Ç–µ—Ç**
   - –¶–≤–µ—Ç –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ **–≥–æ–ª—É–±–æ–π** üîµ —Å —Å—Ç—Ä–µ–ª–∫–æ–π `‚Üí`
   - –ß–µ—Ä–µ–∑ ~1 —Å–µ–∫—É–Ω–¥—É —Å—á–µ—Ç—á–∏–∫ **IN —É–≤–µ–ª–∏—á–∏—Ç—Å—è** ‚úÖ
   - Box —Å—Ç–∞–Ω–µ—Ç **–∑–µ–ª–µ–Ω—ã–º** üü¢ —Å –æ—Ç–º–µ—Ç–∫–æ–π `‚úìIN`

### –¢–µ—Å—Ç OUT (–í—ã—Ö–æ–¥):

1. **–ü–æ–¥–æ–π–¥–∏—Ç–µ** –±–ª–∏–∑–∫–æ –∫ –∫–∞–º–µ—Ä–µ (0.5-1 –º–µ—Ç—Ä)
2. **–ú–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç—Ö–æ–¥–∏—Ç–µ** –Ω–∞–∑–∞–¥
3. –ù–∞–±–ª—é–¥–∞–π—Ç–µ:
   - –í–∞—à box **—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è**
   - –¶–≤–µ—Ç –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ **–∂–µ–ª—Ç—ã–π** üü° —Å —Å—Ç—Ä–µ–ª–∫–æ–π `‚Üê`
   - –ß–µ—Ä–µ–∑ ~1 —Å–µ–∫—É–Ω–¥—É —Å—á–µ—Ç—á–∏–∫ **OUT —É–≤–µ–ª–∏—á–∏—Ç—Å—è** ‚úÖ
   - Box —Å—Ç–∞–Ω–µ—Ç **–∫—Ä–∞—Å–Ω—ã–º** üî¥ —Å –æ—Ç–º–µ—Ç–∫–æ–π `‚úìOUT`

### –¢–µ—Å—Ç "–ü—Ä–æ—Ö–æ–¥ –º–∏–º–æ" (–Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è):

1. –ò–¥–∏—Ç–µ **—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ** (–∏–ª–∏ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ)
2. –î–µ—Ä–∂–∏—Ç–µ **–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ** –æ—Ç –∫–∞–º–µ—Ä—ã
3. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   - Box –æ—Å—Ç–∞–µ—Ç—Å—è **–ø—Ä–∏–º–µ—Ä–Ω–æ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞**
   - –¶–≤–µ—Ç **–æ—Ä–∞–Ω–∂–µ–≤—ã–π** üü†
   - **–°—á–µ—Ç—á–∏–∫–∏ –ù–ï –º–µ–Ω—è—é—Ç—Å—è** ‚úì (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ï—Å–ª–∏ —Å—á–∏—Ç–∞–µ—Ç —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ/—Ä–µ–¥–∫–æ, –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä–æ–≥:

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
export PC_AREA_CHANGE_THRESHOLD=0.20  # –ú–µ–Ω–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π
export PC_AREA_CHANGE_THRESHOLD=0.10  # –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π

# –ò–ª–∏ –≤ .env —Ñ–∞–π–ª–µ:
echo "PC_AREA_CHANGE_THRESHOLD=0.20" >> .env
```

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–∞–º–µ—Ä—ã

### ‚úÖ –•–æ—Ä–æ—à–µ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ:

```
         –í—Ö–æ–¥/–í—ã—Ö–æ–¥
             ‚Üë
        [  –î–≤–µ—Ä—å  ]
             ‚Üë
         üë§ –õ—é–¥–∏
         
         üìπ –ö–∞–º–µ—Ä–∞
         (—Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –¥–≤–µ—Ä—å)
```

**–ü–æ—á–µ–º—É —Ö–æ—Ä–æ—à–æ:**
- –õ—é–¥–∏ –∏–¥—É—Ç –∫/–æ—Ç –∫–∞–º–µ—Ä—ã
- –ß–µ—Ç–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
- –¢–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç

### ‚ùå –ü–ª–æ—Ö–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ:

```
    üìπ                    –î–≤–µ—Ä—å
   –ö–∞–º–µ—Ä–∞  ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ [     ]
   (—Å–±–æ–∫—É)              ‚Üë
                       –õ—é–¥–∏
```

**–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:**
- –õ—é–¥–∏ –¥–≤–∏–∂—É—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∫–∞–º–µ—Ä–µ
- –†–∞–∑–º–µ—Ä box –ø–æ—á—Ç–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
- –ü–æ–¥—Å—á–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

| –°–æ—Å—Ç–æ—è–Ω–∏–µ | –¶–≤–µ—Ç | –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä | –û–∑–Ω–∞—á–∞–µ—Ç |
|-----------|------|-----------|----------|
| **–ü—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è** | üîµ –ì–æ–ª—É–±–æ–π | `‚Üí` | –î–≤–∏–∂–µ—Ç—Å—è –∫ –∫–∞–º–µ—Ä–µ |
| **–£–¥–∞–ª—è–µ—Ç—Å—è** | üü° –ñ–µ–ª—Ç—ã–π | `‚Üê` | –î–≤–∏–∂–µ—Ç—Å—è –æ—Ç –∫–∞–º–µ—Ä—ã |
| **–ó–∞—Å—á–∏—Ç–∞–Ω IN** | üü¢ –ó–µ–ª–µ–Ω—ã–π | `‚úìIN` | –¢–æ–ª—å–∫–æ —á—Ç–æ –∑–∞—à–µ–ª |
| **–ó–∞—Å—á–∏—Ç–∞–Ω OUT** | üî¥ –ö—Ä–∞—Å–Ω—ã–π | `‚úìOUT` | –¢–æ–ª—å–∫–æ —á—Ç–æ –≤—ã—à–µ–ª |
| **–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π** | üü† –û—Ä–∞–Ω–∂–µ–≤—ã–π | - | –ù–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è |

---

## üîÑ –õ–æ–≥–∏–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏

```
–°—Ü–µ–Ω–∞—Ä–∏–π: –ß–µ–ª–æ–≤–µ–∫ –∑–∞—Ö–æ–¥–∏—Ç –∏ –≤—ã—Ö–æ–¥–∏—Ç

1. –ß–µ–ª–æ–≤–µ–∫ –¥–∞–ª–µ–∫–æ ‚Üí –ü—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è ‚Üí IN ‚úÖ
   counted_direction = "IN"

2. –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—Ä–∏–±–ª–∏–∂–∞—Ç—å—Å—è ‚Üí –ù–ï —Å—á–∏—Ç–∞–µ–º
   (—É–∂–µ –∑–∞—Å—á–∏—Ç–∞–Ω –∫–∞–∫ IN)

3. –°—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ ‚Üí –ù–ï —Å—á–∏—Ç–∞–µ–º
   (–Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è)

4. –ù–∞—á–∏–Ω–∞–µ—Ç —É–¥–∞–ª—è—Ç—å—Å—è ‚Üí OUT ‚úÖ
   counted_direction = "OUT"
   
5. –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —É–¥–∞–ª—è—Ç—å—Å—è ‚Üí –ù–ï —Å—á–∏—Ç–∞–µ–º
   (—É–∂–µ –∑–∞—Å—á–∏—Ç–∞–Ω –∫–∞–∫ OUT)

6. –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã —Ç—Ä–µ–∫ –∏—Å—á–µ–∑–∞–µ—Ç
   ‚Üí –ï—Å–ª–∏ –≤–µ—Ä–Ω–µ—Ç—Å—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞—Å—á–∏—Ç–∞–Ω —Å–Ω–æ–≤–∞
```

---

## üì± –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –≠–ª–µ–º–µ–Ω—Ç—ã:

1. **–í–∏–¥–µ–æ–ø–æ—Ç–æ–∫** (—Å–≤–µ—Ä—Ö—É)
   - –ñ–∏–≤–æ–µ –≤–∏–¥–µ–æ 960x540
   - –¶–≤–µ—Ç–Ω—ã–µ —Ä–∞–º–∫–∏
   - –°—Ç—Ä–µ–ª–∫–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - FPS –∏ —Å—á–µ—Ç—á–∏–∫–∏

2. **–°—á–µ—Ç—á–∏–∫–∏** (–ø–æ–¥ –≤–∏–¥–µ–æ)
   - IN: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–¥–æ–≤
   - OUT: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã—Ö–æ–¥–æ–≤
   - Active: —Ç–µ–∫—É—â–∏–µ —Ç—Ä–µ–∫–∏

3. **–°–æ–±—ã—Ç–∏—è** (–≤–Ω–∏–∑—É)
   - –õ–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 50 —Å–æ–±—ã—Ç–∏–π
   - –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è
   - Track ID
   - –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (IN/OUT)

4. **–ö–Ω–æ–ø–∫–∞ Reset**
   - –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–æ–≤ IN/OUT
   - –ù–ï –æ—á–∏—â–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   - –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ç—Ä–µ–∫–∏

---

## üéØ –ì–æ—Ç–æ–≤–æ!

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ **Distance-Based Counting**.

**–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000 –∏ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!** üöÄ

### –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞:
```bash
cd /Users/alextabula/Desktop/vision
OPENCV_AVFOUNDATION_SKIP_AUTH=1 .venv/bin/python run.py --no-debug-window
```

**–£–¥–∞—á–∏ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º!** üéâ
