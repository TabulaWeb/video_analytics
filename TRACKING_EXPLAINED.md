# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ª—é–¥–µ–π üß†

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ (ByteTrack)

### ‚úÖ –ß—Ç–æ –£–ñ–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:

```
–ß–µ–ª–æ–≤–µ–∫ –≤—Ö–æ–¥–∏—Ç –≤ –∫–∞–¥—Ä:
Frame 1:  –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω ‚Üí –ü—Ä–∏—Å–≤–æ–µ–Ω track_id = 42
Frame 5:  –¢–æ—Ç –∂–µ —á–µ–ª–æ–≤–µ–∫ ‚Üí track_id = 42 ‚úì
Frame 10: –¢–æ—Ç –∂–µ —á–µ–ª–æ–≤–µ–∫ ‚Üí track_id = 42 ‚úì
Frame 20: –¢–æ—Ç –∂–µ —á–µ–ª–æ–≤–µ–∫ ‚Üí track_id = 42 ‚úì
```

**ByteTrack –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ–∫–∞ –æ–Ω –≤ –∫–∞–¥—Ä–µ!** ‚úÖ

### ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:

```
–°—Ü–µ–Ω–∞—Ä–∏–π: –ß–µ–ª–æ–≤–µ–∫ –≤—ã—Ö–æ–¥–∏—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è

1. –ß–µ–ª–æ–≤–µ–∫ –≤ –∫–∞–¥—Ä–µ ‚Üí track_id = 42
2. –ß–µ–ª–æ–≤–µ–∫ —É—Ö–æ–¥–∏—Ç –∏–∑ –∫–∞–¥—Ä–∞
3. –ñ–¥–µ–º 2 —Å–µ–∫—É–Ω–¥—ã (max_age_seconds)
4. –¢—Ä–µ–∫ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ø–∞–º—è—Ç–∏
5. –ß–µ–ª–æ–≤–µ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
6. –°–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç ‚Üí –ù–û–í–´–ô track_id = 87 ‚ùå

–ü—Ä–æ–±–ª–µ–º–∞: –≠—Ç–æ —É–∂–µ –¥—Ä—É–≥–æ–π ID, —Ö–æ—Ç—è —ç—Ç–æ —Ç–æ—Ç –∂–µ —á–µ–ª–æ–≤–µ–∫!
```

---

## ü§î –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

### ByteTrack - —ç—Ç–æ Motion-Based Tracker:

- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ **–¥–≤–∏–∂–µ–Ω–∏—é** –∏ **–ø–æ–∑–∏—Ü–∏–∏**
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∫–∞ —á–µ–ª–æ–≤–µ–∫ –≤–∏–¥–µ–Ω
- **–ù–ï –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤–Ω–µ—à–Ω–æ—Å—Ç—å**
- –ü–æ—Å–ª–µ –ø–æ—Ç–µ—Ä–∏ —Ç—Ä–µ–∫–∞ - –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π ID

### –ê–Ω–∞–ª–æ–≥–∏—è:

```
ByteTrack = "—Å–ª–µ–¥–∏—Ç—å –≥–ª–∞–∑–∞–º–∏ –∑–∞ —á–µ–ª–æ–≤–µ–∫–æ–º"

–ü–æ–∫–∞ –≤–∏–¥–∏—à—å ‚Üí –∑–Ω–∞–µ—à—å —á—Ç–æ —ç—Ç–æ –æ–Ω
–û—Ç–≤–µ—Ä–Ω—É–ª—Å—è ‚Üí –ø–æ—Ç–µ—Ä—è–ª –∏–∑ –≤–∏–¥—É
–ü–æ–≤–µ—Ä–Ω—É–ª—Å—è –æ–±—Ä–∞—Ç–Ω–æ ‚Üí –∫—Ç–æ —ç—Ç–æ? –ù–æ–≤—ã–π —á–µ–ª–æ–≤–µ–∫?
```

---

## üéØ –†–µ—à–µ–Ω–∏—è –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç—Ä–µ–∫–∞ ‚ö°

**–ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ - —É–∂–µ –µ—Å—Ç—å!**

```bash
# –£–≤–µ–ª–∏—á–∏–º –≤—Ä–µ–º—è –¥–æ 10 —Å–µ–∫—É–Ω–¥
export PC_MAX_AGE_SECONDS=10.0
```

**–ü–ª—é—Å—ã:**
- –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ú–∏–Ω—É—Å—ã:**
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –≤–µ—Ä–Ω—É–ª—Å—è –±—ã—Å—Ç—Ä–æ
- –ï—Å–ª–∏ —É—à–µ–ª –Ω–∞ 11+ —Å–µ–∫—É–Ω–¥ ‚Üí –Ω–æ–≤—ã–π ID
- –ü–æ—Ç—Ä–µ–±–ª—è–µ—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è**: –ö–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è (—á–µ–ª–æ–≤–µ–∫ –≤—ã—à–µ–ª –∑–∞ —É–≥–æ–ª –∏ –≤–µ—Ä–Ω—É–ª—Å—è)

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Re-ID (Person Re-Identification) üöÄ

**–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å!**

#### –ß—Ç–æ —ç—Ç–æ?

Re-ID —Å–æ–∑–¥–∞–µ—Ç **"–æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞"** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞:

```python
Person appearance features:
- –¶–≤–µ—Ç –æ–¥–µ–∂–¥—ã       [0.8, 0.3, 0.1, ...]
- –†–æ—Å—Ç              [0.9, ...]
- –¢–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ      [0.6, ...]
- –ü—Ä–∏—á–µ—Å–∫–∞          [0.4, ...]

‚Üí Embedding vector (128 or 256 dimensions)
‚Üí –£–Ω–∏–∫–∞–ª—å–Ω—ã–π "–æ—Ç–ø–µ—á–∞—Ç–æ–∫" —á–µ–ª–æ–≤–µ–∫–∞
```

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```
1. –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ–º —á–µ–ª–æ–≤–µ–∫–∞ ‚Üí bbox
2. –í—ã—Ä–µ–∑–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞ –∏–∑ –∫–∞–¥—Ä–∞
3. –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ Re-ID –º–æ–¥–µ–ª—å
4. –ü–æ–ª—É—á–∞–µ–º embedding vector (–Ω–∞–ø—Ä–∏–º–µ—Ä 128 —á–∏—Å–µ–ª)
5. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –±–∞–∑–æ–π –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ª—é–¥–µ–π
6. –ï—Å–ª–∏ –ø–æ—Ö–æ–∂ (cosine similarity > 0.7) ‚Üí —ç—Ç–æ –æ–Ω!
7. –ï—Å–ª–∏ –Ω–µ –ø–æ—Ö–æ–∂ ‚Üí –Ω–æ–≤—ã–π —á–µ–ª–æ–≤–µ–∫
```

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

```
–ß–µ–ª–æ–≤–µ–∫ —É—à–µ–ª –Ω–∞ 10 –º–∏–Ω—É—Ç, –≤–µ—Ä–Ω—É–ª—Å—è:
- –û–¥–µ–∂–¥–∞ —Ç–∞ –∂–µ ‚úì
- –†–æ—Å—Ç —Ç–æ—Ç –∂–µ ‚úì
- –¢–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ —Ç–æ –∂–µ ‚úì
‚Üí Re-ID: "–≠—Ç–æ track_id = 42!" ‚úÖ
‚Üí –ù–ï —Å—á–∏—Ç–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ!
```

**–ü–ª—é—Å—ã:**
- –ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç –Ω–∞ –≤–µ—Å—å –¥–µ–Ω—å (–ø–æ–∫–∞ –æ–¥–µ–∂–¥–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å)
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø–æ—Å–ª–µ –¥–æ–ª–≥–æ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è
- –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (>95%)

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å (~20MB)
- –ë–æ–ª—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (—Å–Ω–∏–∂–µ–Ω–∏–µ FPS –Ω–∞ 20-30%)
- –°–ª–æ–∂–Ω–µ–µ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ üéØ

**–ö–æ–º–±–∏–Ω–∞—Ü–∏—è ByteTrack + Re-ID**

```python
if person in frame:
    use ByteTrack ‚Üí fast, real-time
elif person disappeared:
    if gone < 10 seconds:
        keep track alive (–ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
    else:
        save Re-ID embedding
        
if person returns:
    if track still alive (< 10 sec):
        use same track_id ‚úì
    else:
        compare with Re-ID database
        if match found:
            restore old track_id ‚úì
        else:
            assign new track_id
```

**–ü–ª—é—Å—ã:**
- –ë—ã—Å—Ç—Ä–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (ByteTrack)
- –ù–∞–¥–µ–∂–Ω–æ –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–π (Re-ID)
- –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å

---

## üíª –•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å Re-ID?

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–æ–¥–µ–ª–∏:

1. **OSNet** (Omni-Scale Network)
   - –õ–µ–≥–∫–∞—è, –±—ã—Å—Ç—Ä–∞—è
   - ~20MB
   - 96% —Ç–æ—á–Ω–æ—Å—Ç—å

2. **FastReID**
   - –û—Ç –∫–æ–º–ø–∞–Ω–∏–∏ Torchreid
   - –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/—Ç–æ—á–Ω–æ—Å—Ç—å

3. **CLIP-ReID**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CLIP embeddings
   - –û—á–µ–Ω—å —Ç–æ—á–Ω—ã–π –Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–π

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

```python
# –ù–æ–≤—ã–π —Ñ–∞–π–ª: app/reid.py

class PersonReID:
    def __init__(self):
        self.model = load_reid_model()  # OSNet or FastReID
        self.known_persons = {}  # person_id: embedding
    
    def extract_embedding(self, image, bbox):
        """–ò–∑–≤–ª–µ—á—å embedding –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–∞."""
        person_crop = image[y1:y2, x1:x2]
        embedding = self.model(person_crop)
        return embedding
    
    def find_match(self, embedding):
        """–ù–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–µ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –±–∞–∑–µ."""
        best_match = None
        best_similarity = 0.0
        
        for person_id, known_emb in self.known_persons.items():
            similarity = cosine_similarity(embedding, known_emb)
            if similarity > 0.7 and similarity > best_similarity:
                best_match = person_id
                best_similarity = similarity
        
        return best_match
    
    def register_person(self, person_id, embedding):
        """–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –±–∞–∑—É."""
        self.known_persons[person_id] = embedding
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ counter.py:

```python
class LineCrossingCounter:
    def __init__(self, ...):
        self.reid = PersonReID()
        self.person_to_track = {}  # Mapping person_id ‚Üí track_id
    
    def process_detection(self, track_id, bbox, frame):
        # –ü–æ–ª—É—á–∏—Ç—å embedding
        embedding = self.reid.extract_embedding(frame, bbox)
        
        # –ù–∞–π—Ç–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
        person_id = self.reid.find_match(embedding)
        
        if person_id:
            # –≠—Ç–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–π —á–µ–ª–æ–≤–µ–∫!
            old_track_id = self.person_to_track.get(person_id)
            if old_track_id and old_track_id != track_id:
                # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ç—Ä–µ–∫
                self.tracks[track_id] = self.tracks[old_track_id]
        else:
            # –ù–æ–≤—ã–π —á–µ–ª–æ–≤–µ–∫
            person_id = generate_new_person_id()
            self.reid.register_person(person_id, embedding)
        
        self.person_to_track[person_id] = track_id
        
        # –î–∞–ª—å—à–µ –æ–±—ã—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Å—á–µ—Ç–∞...
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –î–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ (—Å–µ–π—á–∞—Å):

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1** - —É–≤–µ–ª–∏—á—å—Ç–µ `max_age_seconds`:

```bash
# –ó–∞–ø–æ–º–∏–Ω–∞–µ–º 30 —Å–µ–∫—É–Ω–¥
export PC_MAX_AGE_SECONDS=30.0

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
cd /Users/alextabula/Desktop/vision
OPENCV_AVFOUNDATION_SKIP_AUTH=1 PC_MAX_AGE_SECONDS=30.0 \
.venv/bin/python run.py --no-debug-window
```

**–≠—Ç–æ —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É** –µ—Å–ª–∏ –ª—é–¥–∏ —É—Ö–æ–¥—è—Ç –Ω–µ–Ω–∞–¥–æ–ª–≥–æ!

### –î–ª—è production:

–î–æ–±–∞–≤—å—Ç–µ **Re-ID —Å–∏—Å—Ç–µ–º—É** –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ª—é–¥–µ–π –Ω–∞ –≤–µ—Å—å –¥–µ–Ω—å.

---

## üìä –¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å:

```
09:00 - –ß–µ–ª–æ–≤–µ–∫ –∑–∞—Ö–æ–¥–∏—Ç ‚Üí track_id = 42 ‚Üí –°—á–∏—Ç–∞–µ–º IN ‚úÖ
09:01 - –•–æ–¥–∏—Ç –ø–æ –ø–æ–º–µ—â–µ–Ω–∏—é ‚Üí track_id = 42
09:02 - –í—ã—Ö–æ–¥–∏—Ç –∏–∑ –∫–∞–¥—Ä–∞
09:04 - –¢—Ä–µ–∫ —É–¥–∞–ª—è–µ—Ç—Å—è (–ø—Ä–æ—à–ª–æ 2 —Å–µ–∫)
09:05 - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è ‚Üí track_id = 87 (–ù–û–í–´–ô!) ‚Üí –°—á–∏—Ç–∞–µ–º IN —Å–Ω–æ–≤–∞ ‚ùå

–ü—Ä–æ–±–ª–µ–º–∞: –ó–∞—Å—á–∏—Ç–∞–ª–∏ –¥–≤–∞–∂–¥—ã!
```

### –ß—Ç–æ –±—É–¥–µ—Ç —Å max_age_seconds=30:

```
09:00 - –ß–µ–ª–æ–≤–µ–∫ –∑–∞—Ö–æ–¥–∏—Ç ‚Üí track_id = 42 ‚Üí –°—á–∏—Ç–∞–µ–º IN ‚úÖ
09:01 - –•–æ–¥–∏—Ç –ø–æ –ø–æ–º–µ—â–µ–Ω–∏—é ‚Üí track_id = 42
09:02 - –í—ã—Ö–æ–¥–∏—Ç –∏–∑ –∫–∞–¥—Ä–∞
09:04 - –¢—Ä–µ–∫ –ï–©–ï –ñ–ò–í (–ø—Ä–æ—à–ª–æ 2 —Å–µ–∫ < 30 —Å–µ–∫)
09:05 - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è ‚Üí track_id = 42 (–¢–û–¢ –ñ–ï!) ‚Üí –ù–ï —Å—á–∏—Ç–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ ‚úì
```

### –ß—Ç–æ –±—É–¥–µ—Ç —Å Re-ID:

```
09:00 - –ß–µ–ª–æ–≤–µ–∫ –≤ —Å–∏–Ω–µ–π –∫—É—Ä—Ç–∫–µ ‚Üí person_id = "blue_jacket_tall" ‚Üí track_id = 42 ‚Üí IN ‚úÖ
09:05 - –£—Ö–æ–¥–∏—Ç –∏–∑ –∫–∞–¥—Ä–∞ ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ–º embedding –≤ –±–∞–∑—É
09:30 - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è (–ø—Ä–æ—à–ª–æ 30 –º–∏–Ω—É—Ç!)
      ‚Üí –ù–æ–≤—ã–π track_id = 155
      ‚Üí –ù–æ Re-ID —É–∑–Ω–∞–µ—Ç: "–≠—Ç–æ blue_jacket_tall!"
      ‚Üí –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º person_id
      ‚Üí –ù–ï —Å—á–∏—Ç–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ ‚úì
```

---

## üöÄ –•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å Re-ID?

–°–∫–∞–∂–∏—Ç–µ "–¥–∞" –∏ —è –¥–æ–±–∞–≤–ª—é:

1. Re-ID –º–æ–¥–µ–ª—å (OSNet - –ª–µ–≥–∫–∞—è –∏ –±—ã—Å—Ç—Ä–∞—è)
2. –°–∏—Å—Ç–µ–º—É embeddings
3. –ë–∞–∑—É –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ª—é–¥–µ–π
4. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é person_id –Ω–∞ —ç–∫—Ä–∞–Ω–µ
5. API –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ª—é–¥–µ–π

**–≠—Ç–æ –¥–æ–±–∞–≤–∏—Ç ~500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ + –º–æ–¥–µ–ª—å ~20MB**

---

## üí° –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ –°–ï–ô–ß–ê–°:

–£–≤–µ–ª–∏—á—å—Ç–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç—Ä–µ–∫–∞:

```bash
cd /Users/alextabula/Desktop/vision
```

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:

```bash
cat > .env << 'EOF'
OPENCV_AVFOUNDATION_SKIP_AUTH=1
PC_SHOW_DEBUG_WINDOW=false
PC_MAX_AGE_SECONDS=30.0
PC_AREA_CHANGE_THRESHOLD=0.15
EOF
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
.venv/bin/python run.py --no-debug-window
```

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –ª—é–¥–µ–π **30 —Å–µ–∫—É–Ω–¥** –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –æ–Ω–∏ –∏—Å—á–µ–∑–ª–∏ –∏–∑ –∫–∞–¥—Ä–∞! ‚úÖ

---

–•–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Re-ID —Å –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é?
